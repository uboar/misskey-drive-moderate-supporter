var Ze=Object.defineProperty;var et=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>(et(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const s of u)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(u){const s={};return u.integrity&&(s.integrity=u.integrity),u.referrerPolicy&&(s.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?s.credentials="include":u.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(u){if(u.ep)return;u.ep=!0;const s=n(u);fetch(u.href,s)}})();function S(){}function Ve(e){return e()}function Pe(){return Object.create(null)}function fe(e){e.forEach(Ve)}function Xe(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Fe;function we(e,t){return e===t?!0:(Fe||(Fe=document.createElement("a")),Fe.href=t,e===Fe.href)}function tt(e){return Object.keys(e).length===0}function Ge(e,...t){if(e==null){for(const l of t)l(void 0);return S}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function je(e){let t;return Ge(e,n=>t=n)(),t}function Be(e,t,n){e.$$.on_destroy.push(Ge(t,n))}function r(e,t){e.appendChild(t)}function I(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function nt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function o(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function b(){return z(" ")}function U(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function i(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function lt(e){return Array.from(e.childNodes)}function ee(e,t){t=""+t,e.data!==t&&(e.data=t)}function G(e,t){e.value=t??""}let Ee;function Ce(e){Ee=e}function ut(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function it(e){ut().$$.on_mount.push(e)}const _e=[],qe=[];let ve=[];const ze=[],rt=Promise.resolve();let Ue=!1;function st(){Ue||(Ue=!0,rt.then(Qe))}function Me(e){ve.push(e)}const Te=new Set;let me=0;function Qe(){if(me!==0)return;const e=Ee;do{try{for(;me<_e.length;){const t=_e[me];me++,Ce(t),ot(t.$$)}}catch(t){throw _e.length=0,me=0,t}for(Ce(null),_e.length=0,me=0;qe.length;)qe.pop()();for(let t=0;t<ve.length;t+=1){const n=ve[t];Te.has(n)||(Te.add(n),n())}ve.length=0}while(_e.length);for(;ze.length;)ze.pop()();Ue=!1,Te.clear(),Ce(e)}function ot(e){if(e.fragment!==null){e.update(),fe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Me)}}function ct(e){const t=[],n=[];ve.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),ve=t}const $e=new Set;let ae;function at(){ae={r:0,c:[],p:ae}}function ft(){ae.r||fe(ae.c),ae=ae.p}function ce(e,t){e&&e.i&&($e.delete(e),e.i(t))}function ke(e,t,n,l){if(e&&e.o){if($e.has(e))return;$e.add(e),ae.c.push(()=>{$e.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function We(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ne(e){e&&e.c()}function De(e,t,n){const{fragment:l,after_update:u}=e.$$;l&&l.m(t,n),Me(()=>{const s=e.$$.on_mount.map(Ve).filter(Xe);e.$$.on_destroy?e.$$.on_destroy.push(...s):fe(s),e.$$.on_mount=[]}),u.forEach(Me)}function Se(e,t){const n=e.$$;n.fragment!==null&&(ct(n.after_update),fe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,t){e.$$.dirty[0]===-1&&(_e.push(e),st(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,l,u,s,d,a=[-1]){const p=Ee;Ce(e);const c=e.$$={fragment:null,ctx:[],props:s,update:S,not_equal:u,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:Pe(),dirty:a,skip_bound:!1,root:t.target||p.$$.root};d&&d(c.root);let m=!1;if(c.ctx=n?n(e,t.props||{},(_,g,...L)=>{const h=L.length?L[0]:g;return c.ctx&&u(c.ctx[_],c.ctx[_]=h)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](h),m&&dt(e,_)),g}):[],c.update(),m=!0,fe(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const _=lt(t.target);c.fragment&&c.fragment.l(_),_.forEach(D)}else c.fragment&&c.fragment.c();t.intro&&ce(e.$$.fragment),De(e,t.target,t.anchor),Qe()}Ce(p)}class Le{constructor(){Oe(this,"$$");Oe(this,"$$set")}$destroy(){Se(this,1),this.$destroy=S}$on(t,n){if(!Xe(n))return S;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}$set(t){this.$$set&&!tt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pt);const ge=[];function Ye(e,t=S){let n;const l=new Set;function u(a){if(ye(e,a)&&(e=a,n)){const p=!ge.length;for(const c of l)c[1](),ge.push(c,e);if(p){for(let c=0;c<ge.length;c+=2)ge[c][0](ge[c+1]);ge.length=0}}}function s(a){u(a(e))}function d(a,p=S){const c=[a,p];return l.add(c),l.size===1&&(n=t(u,s)||S),a(e),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:u,update:s,subscribe:d}}const Ae=Ye(""),Ie=Ye(""),ht=()=>{const e=document.cookie;e!==""&&e.split("; ").forEach(n=>{n.startsWith("accessToken")&&Ie.set(n.replace(/accessToken=/,"")),n.startsWith("serverUrl")&&Ae.set(n.replace(/serverUrl=/,""))})},Re=()=>{document.cookie=`accessToken=${je(Ie)}; Max-Age=50000000`,document.cookie=`serverUrl=${je(Ae)}; Max-Age=50000000`};function bt(e){let t,n=e[0].name+"",l;return{c(){t=o("div"),l=z(n),i(t,"class","alert w-full h-64")},m(u,s){I(u,t,s),r(t,l)},p(u,s){s&1&&n!==(n=u[0].name+"")&&ee(l,n)},d(u){u&&D(t)}}}function mt(e){let t,n;return{c(){t=o("audio"),t.controls=!0,we(t.src,n=e[0].url)||i(t,"src",n),i(t,"class","h-64 w-64 bg-white")},m(l,u){I(l,t,u)},p(l,u){u&1&&!we(t.src,n=l[0].url)&&i(t,"src",n)},d(l){l&&D(t)}}}function gt(e){let t,n;return{c(){t=o("video"),t.controls=!0,we(t.src,n=e[0].url)||i(t,"src",n),i(t,"class","h-64 w-64 bg-white"),i(t,"width","256"),i(t,"height","256")},m(l,u){I(l,t,u)},p(l,u){u&1&&!we(t.src,n=l[0].url)&&i(t,"src",n)},d(l){l&&D(t)}}}function _t(e){let t,n,l;return{c(){t=o("img"),i(t,"loading","lazy"),i(t,"class","w-64 h-64 object-contain bg-white"),we(t.src,n=e[0].thumbnailUrl)||i(t,"src",n),i(t,"alt",l=e[0].url)},m(u,s){I(u,t,s)},p(u,s){s&1&&!we(t.src,n=u[0].thumbnailUrl)&&i(t,"src",n),s&1&&l!==(l=u[0].url)&&i(t,"alt",l)},d(u){u&&D(t)}}}function vt(e){let t,n,l,u,s=e[1]+1+"",d,a,p=e[0].isSensitive?"（センシティブ）":"",c,m,_,g=e[0].type+"",L,h,$,O,y,T,E,W,B,M,x=e[0].name+"",de,te,R,N,P,ue=e[0].id+"",Q,Y,pe,he,ie=new Date(Date.parse(e[0].createdAt)).toLocaleString()+"",ne,le,j,Z,re=e[0].user.username+"",H,K,be,se,k,q,w,J,f,A,V;function F(v,C){return C&1&&(O=null),C&1&&(y=null),C&1&&(T=null),O==null&&(O=!!v[0].type.startsWith("image")),O?_t:(y==null&&(y=!!v[0].type.startsWith("video")),y?gt:(T==null&&(T=!!v[0].type.startsWith("audio")),T?mt:bt))}let oe=F(e,-1),X=oe(e);return{c(){t=o("div"),n=o("div"),l=o("div"),u=o("div"),d=z(s),a=o("span"),c=z(p),m=b(),_=o("div"),L=z(g),h=b(),$=o("a"),X.c(),W=b(),B=o("div"),M=o("p"),de=z(x),te=b(),R=o("div"),N=o("a"),P=z("ID : "),Q=z(ue),pe=b(),he=o("p"),ne=z(ie),le=b(),j=o("a"),Z=z("@"),H=z(re),be=b(),se=o("div"),k=o("label"),q=o("span"),q.textContent="フラグ",w=b(),J=o("input"),i(a,"class","text-xs text-red-600"),i(u,"class","font-bold"),i(_,"class","w-full text-xs text-end"),i(l,"class","grid grid-cols-2"),i($,"href",E=e[0].url),i($,"target","_blank"),i(B,"class","text-sm font-bold truncate"),i(N,"href",Y=`https://${e[2]}/admin/file/${e[0].id}`),i(N,"tabindex","-1"),i(N,"target","_blank"),i(N,"class","link"),i(R,"class","text-sm"),i(j,"class","badge badge-primary badge-outline"),i(j,"tabindex","-1"),i(j,"href",K=`https://${e[2]}/@${e[0].user.username}`),i(j,"target","_blank"),i(q,"class","label-text mr-3"),i(J,"type","checkbox"),i(J,"class","checkbox checkbox-error"),i(J,"tabindex",e[1]),i(k,"class","label cursor-pointer w-fit"),i(se,"class","grid grid-cols-2 items-center"),i(n,"class","card-body w-64"),i(t,"class",f="card card-bordered card-compact "+(e[0].isSensitive?"border-red-500":"")+" "+(e[0].checked?"bg-red-100":"bg-base-200"))},m(v,C){I(v,t,C),r(t,n),r(n,l),r(l,u),r(u,d),r(u,a),r(a,c),r(l,m),r(l,_),r(_,L),r(n,h),r(n,$),X.m($,null),r(n,W),r(n,B),r(B,M),r(M,de),r(n,te),r(n,R),r(R,N),r(N,P),r(N,Q),r(R,pe),r(R,he),r(he,ne),r(n,le),r(n,j),r(j,Z),r(j,H),r(n,be),r(n,se),r(se,k),r(k,q),r(k,w),r(k,J),J.checked=e[0].checked,A||(V=U(J,"change",e[3]),A=!0)},p(v,[C]){C&2&&s!==(s=v[1]+1+"")&&ee(d,s),C&1&&p!==(p=v[0].isSensitive?"（センシティブ）":"")&&ee(c,p),C&1&&g!==(g=v[0].type+"")&&ee(L,g),oe===(oe=F(v,C))&&X?X.p(v,C):(X.d(1),X=oe(v),X&&(X.c(),X.m($,null))),C&1&&E!==(E=v[0].url)&&i($,"href",E),C&1&&x!==(x=v[0].name+"")&&ee(de,x),C&1&&ue!==(ue=v[0].id+"")&&ee(Q,ue),C&5&&Y!==(Y=`https://${v[2]}/admin/file/${v[0].id}`)&&i(N,"href",Y),C&1&&ie!==(ie=new Date(Date.parse(v[0].createdAt)).toLocaleString()+"")&&ee(ne,ie),C&1&&re!==(re=v[0].user.username+"")&&ee(H,re),C&5&&K!==(K=`https://${v[2]}/@${v[0].user.username}`)&&i(j,"href",K),C&2&&i(J,"tabindex",v[1]),C&1&&(J.checked=v[0].checked),C&1&&f!==(f="card card-bordered card-compact "+(v[0].isSensitive?"border-red-500":"")+" "+(v[0].checked?"bg-red-100":"bg-base-200"))&&i(t,"class",f)},i:S,o:S,d(v){v&&D(t),X.d(),A=!1,V()}}}function wt(e,t,n){let l;Be(e,Ae,a=>n(2,l=a));let{file:u}=t,{index:s}=t;function d(){u.checked=this.checked,n(0,u)}return e.$$set=a=>{"file"in a&&n(0,u=a.file),"index"in a&&n(1,s=a.index)},[u,s,l,d]}class At extends Le{constructor(t){super(),xe(this,t,wt,vt,ye,{file:0,index:1})}}function kt(e){let t,n,l;return{c(){t=o("input"),n=b(),l=o("div"),l.innerHTML='<div class="modal-box"></div> <label class="modal-backdrop" for="file-details-dialog">Close</label>',i(t,"type","checkbox"),i(t,"id","file-details-dialog"),i(t,"class","modal-toggle"),i(l,"class","modal")},m(u,s){I(u,t,s),I(u,n,s),I(u,l,s)},p:S,i:S,o:S,d(u){u&&(D(t),D(n),D(l))}}}class Ct extends Le{constructor(t){super(),xe(this,t,null,kt,ye,{})}}function Et(e){let t,n,l,u,s,d,a,p,c,m,_,g,L,h,$,O,y,T,E,W;return{c(){t=o("input"),n=b(),l=o("div"),u=o("div"),s=o("h2"),s.textContent="報告用テンプレート文書作成",d=b(),a=o("textarea"),p=b(),c=o("div"),m=o("button"),m.textContent="生成",_=b(),g=o("button"),g.textContent="生成(フラグ概要)",L=b(),h=o("button"),h.textContent="クリップボードにコピー",$=b(),O=o("label"),O.textContent="閉じる",y=b(),T=o("label"),T.textContent="Close",i(t,"type","checkbox"),i(t,"id","report-dialog"),i(t,"class","modal-toggle"),i(a,"class","textarea w-full my-2 textarea-bordered"),i(m,"class","btn btn-primary btn-wide"),i(g,"class","btn btn-warning"),i(h,"class","btn btn-secondary btn-wide"),i(O,"class","btn btn-outline"),i(O,"for","report-dialog"),i(c,"class","flex flex-wrap w-full justify-between gap-4"),i(u,"class","modal-box lg:w-[800px]"),i(T,"class","modal-backdrop"),i(T,"for","report-dialog"),i(l,"class","modal")},m(B,M){I(B,t,M),I(B,n,M),I(B,l,M),r(l,u),r(u,s),r(u,d),r(u,a),G(a,e[0]),r(u,p),r(u,c),r(c,m),r(c,_),r(c,g),r(c,L),r(c,h),r(c,$),r(c,O),r(l,y),r(l,T),E||(W=[U(a,"input",e[5]),U(m,"click",e[1]),U(g,"click",e[2]),U(h,"click",e[3])],E=!0)},p(B,[M]){M&1&&G(a,B[0])},i:S,o:S,d(B){B&&(D(t),D(n),D(l)),E=!1,fe(W)}}}function yt(e,t,n){let l;Be(e,Ae,m=>n(6,l=m));let{files:u}=t,s="";const d=()=>{let m=0;if(u.length===0){n(0,s="まだファイルをチェックしていません。");return}n(0,s=`${new Date().toLocaleString()}
`),n(0,s+=`${u.length}個のファイルをチェックしました。

`),n(0,s+=`チェックを開始したファイルのID ： ${u[0].id}
`),n(0,s+=`チェックを開始したファイルの作成時刻 ： ${new Date(Date.parse(u[0].createdAt)).toLocaleString()}
`),n(0,s+=`チェックを終了したファイルのID ： ${u[u.length-1].id}
`),n(0,s+=`チェックを終了したファイルの作成時刻 ： ${new Date(Date.parse(u[u.length-1].createdAt)).toLocaleString()}

`),u.forEach(_=>{_.checked===!0&&m++}),n(0,s+=`フラグを立てたファイルは${m}個でした。
`),n(0,s+=`続きをチェックする場合は 
`),n(0,s+=`https://${l}/admin/files 
`),n(0,s+=`または https://uboar.github.io/misskey-drive-moderate-supporter?sinceId=${u[u.length-1].id} からチェック出来ます。`)},a=()=>{n(0,s="");let m=[];u.forEach(_=>{_.checked===!0&&m.push(`https://${l}/admin/file/${_.id}`)}),n(0,s+=`${m.length}個のフラグを立てたファイルがありました。以下が一覧です。

`),m.forEach((_,g)=>{n(0,s+=`${g+1} ： ${_} 
`)})},p=()=>{navigator.clipboard&&navigator.clipboard.writeText(s)};function c(){s=this.value,n(0,s)}return e.$$set=m=>{"files"in m&&n(4,u=m.files)},[s,d,a,p,u,c]}class Ft extends Le{constructor(t){super(),xe(this,t,yt,Et,ye,{files:4})}}function He(e,t,n){const l=e.slice();return l[11]=t[n],l[13]=n,l}function Je(e){let t,n,l,u,s;return{c(){t=o("button"),t.textContent="バッファを削除して再取得",n=b(),l=o("label"),l.textContent="報告用テンプレート文書作成",i(t,"class","btn btn-sm md:btn-md btn-outline btn-primary"),i(l,"for","report-dialog"),i(l,"class","btn btn-sm md:btn-md btn-secondary")},m(d,a){I(d,t,a),I(d,n,a),I(d,l,a),u||(s=U(t,"click",e[10]),u=!0)},p:S,d(d){d&&(D(t),D(n),D(l)),u=!1,s()}}}function Ke(e){let t,n;return t=new At({props:{file:e[11],index:e[13]}}),{c(){Ne(t.$$.fragment)},m(l,u){De(t,l,u),n=!0},p(l,u){const s={};u&4&&(s.file=l[11]),t.$set(s)},i(l){n||(ce(t.$$.fragment,l),n=!0)},o(l){ke(t.$$.fragment,l),n=!1},d(l){Se(t,l)}}}function $t(e){let t,n,l,u,s,d,a,p,c,m,_,g,L,h,$,O,y,T,E,W,B,M,x,de,te,R,N,P,ue,Q,Y=e[2].length>0?"これより新しいファイルを取得":"ファイルの取得",pe,he,ie,ne,le,j,Z,re,H,K,be,se,k=e[2].length>0&&Je(e),q=We(e[2]),w=[];for(let f=0;f<q.length;f+=1)w[f]=Ke(He(e,q,f));const J=f=>ke(w[f],1,1,()=>{w[f]=null});return Z=new Ct({}),H=new Ft({props:{files:e[2]}}),{c(){t=o("main"),n=o("div"),l=o("div"),u=o("span"),u.textContent="Misskey Drive Moderate Supporter",s=b(),d=o("span"),d.textContent="入力した情報はCookieに保存されます。",a=b(),p=o("div"),c=o("div"),m=o("label"),m.textContent="サーバーURL",_=b(),g=o("input"),L=b(),h=o("div"),$=o("label"),$.textContent="アクセストークン",O=b(),y=o("input"),T=b(),E=o("div"),W=o("div"),B=o("label"),B.textContent="sinceId",M=b(),x=o("input"),de=b(),te=o("div"),R=o("label"),R.textContent="untilId",N=b(),P=o("input"),ue=b(),Q=o("button"),pe=z(Y),he=b(),k&&k.c(),ie=b(),ne=o("div"),le=o("div");for(let f=0;f<w.length;f+=1)w[f].c();j=b(),Ne(Z.$$.fragment),re=b(),Ne(H.$$.fragment),i(u,"class","font-bold text-3xl hidden lg:block"),i(d,"class","hidden lg:block"),i(m,"for","server-url"),i(g,"id","server-url"),i(g,"type","text"),i(g,"class","input input-xs md:input-md input-bordered md:w-96"),i(g,"placeholder","EX:voskey.icalo.net"),i($,"for","access-token"),i(y,"id","access-token"),i(y,"type","password"),i(y,"class","input input-xs md:input-md input-bordered md:w-96"),i(p,"class","flex flex-wrap gap-2 md:gap-8 my-4"),i(B,"for","since-id"),i(x,"id","since-id"),i(x,"type","text"),i(x,"class","input input-xs md:input-md input-bordered w-72"),i(R,"for","until-id"),i(P,"id","until-id"),i(P,"type","text"),i(P,"class","input input-xs md:input-md input-bordered w-72"),i(Q,"class","btn btn-sm md:btn-md md:btn-wide btn-primary"),i(E,"class","flex flex-wrap md:gap-8 gap-2"),i(l,"class","p-4"),i(n,"class","sticky z-20 top-0 border-b-2 w-full bg-slate-300"),i(le,"class","flex flex-wrap gap-2"),i(ne,"class","w-full")},m(f,A){I(f,t,A),r(t,n),r(n,l),r(l,u),r(l,s),r(l,d),r(l,a),r(l,p),r(p,c),r(c,m),r(c,_),r(c,g),G(g,e[3]),r(p,L),r(p,h),r(h,$),r(h,O),r(h,y),G(y,e[4]),r(l,T),r(l,E),r(E,W),r(W,B),r(W,M),r(W,x),G(x,e[0]),r(E,de),r(E,te),r(te,R),r(te,N),r(te,P),G(P,e[1]),r(E,ue),r(E,Q),r(Q,pe),r(E,he),k&&k.m(E,null),r(t,ie),r(t,ne),r(ne,le);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(le,null);r(t,j),De(Z,t,null),r(t,re),De(H,t,null),K=!0,be||(se=[U(g,"input",e[6]),U(g,"input",Re),U(y,"input",e[7]),U(y,"input",Re),U(x,"input",e[8]),U(P,"input",e[9]),U(Q,"click",e[5])],be=!0)},p(f,[A]){if(A&8&&g.value!==f[3]&&G(g,f[3]),A&16&&y.value!==f[4]&&G(y,f[4]),A&1&&x.value!==f[0]&&G(x,f[0]),A&2&&P.value!==f[1]&&G(P,f[1]),(!K||A&4)&&Y!==(Y=f[2].length>0?"これより新しいファイルを取得":"ファイルの取得")&&ee(pe,Y),f[2].length>0?k?k.p(f,A):(k=Je(f),k.c(),k.m(E,null)):k&&(k.d(1),k=null),A&4){q=We(f[2]);let F;for(F=0;F<q.length;F+=1){const oe=He(f,q,F);w[F]?(w[F].p(oe,A),ce(w[F],1)):(w[F]=Ke(oe),w[F].c(),ce(w[F],1),w[F].m(le,null))}for(at(),F=q.length;F<w.length;F+=1)J(F);ft()}const V={};A&4&&(V.files=f[2]),H.$set(V)},i(f){if(!K){for(let A=0;A<q.length;A+=1)ce(w[A]);ce(Z.$$.fragment,f),ce(H.$$.fragment,f),K=!0}},o(f){w=w.filter(Boolean);for(let A=0;A<w.length;A+=1)ke(w[A]);ke(Z.$$.fragment,f),ke(H.$$.fragment,f),K=!1},d(f){f&&D(t),k&&k.d(),nt(w,f),Se(Z),Se(H),be=!1,fe(se)}}}function Bt(e,t,n){let l,u;Be(e,Ae,h=>n(3,l=h)),Be(e,Ie,h=>n(4,u=h)),ht(),it(()=>{const h=new URLSearchParams(window.location.search);h.has("sinceId")&&n(0,d=h.get("sinceId")),h.has("untilId")&&n(1,a=h.get("untilId"))});const s=async()=>{try{const h={i:u,limit:100};p.length>0&&n(0,d=p[p.length-1].id),d!==""&&(h.sinceId=d),a!==""&&(h.untilId=a);const $=await fetch(`https://${l}/api/admin/drive/files`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});n(2,p=[...p,...await $.json()])}catch(h){console.error(h)}};let d="",a="",p=[];function c(){l=this.value,Ae.set(l)}function m(){u=this.value,Ie.set(u)}function _(){d=this.value,n(0,d)}function g(){a=this.value,n(1,a)}return[d,a,p,l,u,s,c,m,_,g,()=>{n(2,p=[]),s()}]}class Dt extends Le{constructor(t){super(),xe(this,t,Bt,$t,ye,{})}}new Dt({target:document.getElementById("app")});
